{% extends 'gamefolio_app/base.html' %}

{% block title_block %}
    Profile for {{ selected_user.username }}
{% endblock %}

{% block body_block %}
    <div>
        <h1>{{ selected_user.username }}'s Profile</h1>
    </div>
    <div>
        <img src="{{ MEDIA_URL }}profile_images/{{ user_profile.picture }}" width="300" height="300" alt="{{ selected_user.username }}'s profile image" />
        <br />
        <div>
            {% if selected_user == user %}
                <form method="post" action="." enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <input type="submit" value="Update" />
                </form>
            {% else %}
                <p>
                    <strong>Website:</strong>
                    <a href="{{ user_profile.website }}">{{ user_profile.website }}</a>
                </p>
            {% endif %}
        </div>

        <div>
            <h2><strong>{{ selected_user.username }}'s Reviews</strong></h2>
            {% if user_reviews %}
                <ul>
                    {% for review in user_reviews %}
                        <li>
                            <strong>Game:</strong> {{ review.game.title }}<br>
                            <strong>Rating:</strong> {{ review.get_rating_display }}<br>
                            {{ review.content }}<br>
                            <strong>Views:</strong> {{ review.views }}<br>
                            <strong>Likes:</strong> {{ review.likes }}<br>
                            <strong>Date Posted:</strong> {{ review.datePosted|date:"F d, Y H:i" }}<br>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No reviews available.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}

